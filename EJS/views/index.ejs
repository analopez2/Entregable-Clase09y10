<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Api Productos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
</head>

<body>
    <div>
        <a href="/api/productos/" class="btn btn-primary rounded mb-4 mll-4 px-3 py-2"> Formulario
        </a>
        <a href="/api/productos/" class="btn btn-primary rounded mb-4 mll-4 px-3 py-2"> Vista de
            Productos
        </a>
    </div>
    <div>
        <h4 class="text-primary m-4">Ingresar un nuevo producto:</h4>

        <form id="formulario" method="POST" action="/api/productos">
            <div class="form-group m-4">
                <label for="title" class="font-weight-bold">TÃ­tulo:</label>
                <input type="text" class="form-control" name="title" id="title" required>
            </div>
            <div class="form-group m-4">
                <label for="price" class="font-weight-bold">Precio:</label>
                <input type="text" class="form-control" name="price" id="price" required>
            </div>
            <div class="form-group m-4">
                <label for="thumbnail" class="font-weight-bold">URL de la imagen:</label>
                <input type="text" class="form-control" name="thumbnail" id="thumbnail" required>
            </div>
            <div class="form-group m-4">
                <input class="button-primary" type="submit" value="Enviar">
            </div>
        </form>
    </div>
    <div>
        <div class="container m-5">
            <div class="mt-5">
                <div class="table-responsive mt- rounded-lg">
                    <h4 class="text-danger">Vista de Productos:</h4>
                    <% if(products.length < 1){ %>
                        <h5 class="alert alert-danger">No se encontraron productos.</h5>
                        <% } else { %>
                            <table class="table table-dark rounded-lg">
                                <thead>
                                    <tr>
                                        <th>Nombre:</th>
                                        <th>Precio:</th>
                                        <th>Foto:</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% products.forEach(function(product){ %>
                                        <tr>
                                            <td>
                                                <%=product.title%>
                                            </td>
                                            <td> $ <%=product.price%>
                                            </td>
                                            <td> <img src="<%=product.thumbnail%>"> </td>
                                        </tr>
                                        <% }) %>
                                </tbody>
                            </table>
                            <% } %>
                </div>
            </div>
        </div>
    </div>
</body>

</html>